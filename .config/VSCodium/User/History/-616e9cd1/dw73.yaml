# See https://gitlab.publicplan.cloud/themenwelt-wirtschaft/infrastruktur/cluster/develop/apps/-/blob/main/empfangsclient-keycloak/application.yaml
# for the base configuration
auth:
  adminUser: keycloakAdmin
  existingSecret: "keycloak-auth-fitko"
  passwordSecretKey: "adminPassword"
production: true
proxyHeaders: "xforwarded"
replicaCount: 1
containerPorts:
  http: 8080
  https: 8443
resources:
  limits:
    cpu: "750m"
    memory: "768Mi"
  requests:
    cpu: "500m"
    memory: "512Mi"
ingress:
  enabled: true
  ingressClassName: "nginx"
  hostname: keycloak-fitko.efa-stage.owl-it.de
  tls: true
  extraTls:
    - hosts:
        - keycloak-fitko.efa-stage.owl-it.de
      secretName: empfangsclient-keycloak-fitko-tls
  path: /
serviceAccount:
  create: true
postgresql:
  enabled: false
externalDatabase:
  host: keycloak-postgresql-rw
  database: keycloak
  existingSecret: keycloak-postgresql-app
  existingSecretUserKey: username
  existingSecretPasswordKey: password
# extraEnvVars:
#   - name: KC_LOG
#     value: "console,file"
# - name: KC_LOG_FILE
#   value: "/var/log/keycloak.log"
# extraVolumeMounts:
#   - name: keycloak-config
#     mountPath: /opt/bitnami/keycloak/conf/quarkus.properties
#     subPath: quarkus.properties
#   - name: keycloak-log-volume
#     mountPath: /var/log
# extraVolumes:
#   - name: keycloak-config
#     configMap:
#       name: keycloak-config
#   - name: keycloak-log-volume
#     persistentVolumeClaim:
#       claimName: keycloak-logs-pvc

