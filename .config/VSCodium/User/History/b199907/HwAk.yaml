kind: Deployment
apiVersion: apps/v1
metadata:
  name: domibus
  labels:
    k8s-env: pre-stage
spec:
  template:
    spec:
      containers:
        - name: domibus
          env:
            - name: LOGGER_LEVEL_ORG_APACHE_CXF
              value: DEBUG
            - name: CHECK_DEFAULT_PASSWD
              value: "false"
            - name: domibus.metrics.sl4j.reporter.enable
              value: "false"
            - name: domibus.metrics.monitor.jms.queues
              value: "false"
            - name: domibus.metrics.monitor.memory
              value: "false"
            - name: domibus.metrics.monitor.gc
              value: "false"
            - name: domibus.metrics.monitor.cached.threads
              value: "false"
            - name: domibus.passwordPolicy.expiration
              value: "0"
            - name: domibus.passwordPolicy.defaultPasswordExpiration
              value: "0"
            - name: wsplugin.mtom.enabled
              value: "false"
            - name: wsplugin.schema.validation.enabled
              value: "false"
            - name: wsplugin.messages.pending.list.max
              value: "500"
            - name: wsplugin.messages.notifications
              value: "MESSAGE_RECEIVED,MESSAGE_SEND_FAILURE,MESSAGE_RECEIVED_FAILURE,MESSAGE_SEND_SUCCESS,MESSAGE_STATUS_CHANGE"
            - name: wsplugin.dispatcher.connectionTimeout
              value: "240000"
            - name: wsplugin.dispatcher.receiveTimeout
              value: "240000"
            - name: wsplugin.dispatcher.allowChunking 
              value: "false"
            - name: wsplugin.dispatcher.chunkingThreshold
              value: "104857600"
            - name: wsplugin.dispatcher.connection.keepAlive
              value: "true"
            - name: wsplugin.dispatcher.worker.cronExpression
              value: "0 0/1 * * * ?"
            - name: wsplugin.send.queue.concurrency
              value: "5-20"
            - name: wsplugin.push.enabled
              value: "true"
            - name: wsplugin.push.rules.ootssubmit 
              value: "Notification Rule for submiting message to OOTS SOAP Client"
            - name: wsplugin.push.rules.ootssubmit.endpoint
              value: "https://ip-oots-service.regmo.dev.publicplan.cloud/api/submitMessage"
            - name: wsplugin.push.rules.ootssubmit.type
              value: "SUBMIT_MESSAGE"
            - name: wsplugin.push.rules.ootssubmit.retry
              value: "60;1;CONSTANT"
            - name: wsplugin.push.auth.username
              value: "ip-backend"
            - name: wsplugin.push.auth.password
              value: "soapEndpoint!2024"
            - name: wsplugin.push.markAsDownloaded
              value: "true"
