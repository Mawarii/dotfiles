http://*.thlvhlc1.zv.thlv.de {
	redir https://{host}{uri}
}

https://*.thlvhlc1.zv.thlv.de {
	tls /etc/ssl/certs/cert.pem /etc/ssl/certs/key.pem

	@keycloak host forms-flow-idm-keycloak.thlvhlc1.zv.thlv.de
	handle @keycloak {
		reverse_proxy localhost:8080
	}

	@forms host forms-flow-forms.THLVHLC1.zv.thlv.de
	handle @forms {
		reverse_proxy localhost:3001
	}

	@documents-api host forms-flow-documents-api.THLVHLC1.zv.thlv.de
	handle @forms {
		reverse_proxy localhost:5006
	}

	@data-analysis host forms-flow-data-analysis.THLVHLC1.zv.thlv.de
	handle @forms {
		reverse_proxy localhost:6001
	}

	@bpm host forms-flow-bpm.THLVHLC1.zv.thlv.de
	handle @forms {
		reverse_proxy localhost:8000
	}

	@api host forms-flow-api.THLVHLC1.zv.thlv.de
	handle @forms {
		reverse_proxy localhost:5000
	}

	@analytics host forms-flow-analytics.THLVHLC1.zv.thlv.de
	handle @forms {
		reverse_proxy localhost:7000
	}

	@web host forms-flow-web.THLVHLC1.zv.thlv.de
	handle @forms {
		reverse_proxy localhost:3004
	}

	@micro-frontend host forms-flow-micro-frontend.THLVHLC1.zv.thlv.de
	handle @forms {
		reverse_proxy localhost:3003
	}
}
