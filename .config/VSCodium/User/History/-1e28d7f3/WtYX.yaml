apiVersion: v1
kind: ConfigMap
metadata:
  name: myconfig
data:
  genericoauth.ini: |-
    [auth.generic_oauth]
    enabled = true
    name = Keycloak
    allow_sign_up = true
    client_id = grafana-dev
    client_secret = some_secret
    scopes = openid email profile offline_access roles
    ;empty_scopes = false
    ;email_attribute_name = email:primary
    ;email_attribute_path =
    ;login_attribute_path =
    ;name_attribute_path =
    ;id_token_attribute_name =
    ;auth_url = https://foo.bar/login/oauth/authorize
    ;token_url = https://foo.bar/login/oauth/access_token
    ;api_url = https://foo.bar/user
    ;signout_redirect_url =
    ;teams_url =
    ;allowed_domains =
    ;team_ids =
    ;allowed_organizations =
    ;role_attribute_path =
    ;role_attribute_strict = false
    ;org_attribute_path =
    ;org_mapping =
    ;groups_attribute_path =
    ;team_ids_attribute_path =
    ;tls_skip_verify_insecure = false
    ;tls_client_cert =
    ;tls_client_key =
    ;tls_client_ca =
    ;use_pkce = false
    ;auth_style =
    ;allow_assign_grafana_admin = false