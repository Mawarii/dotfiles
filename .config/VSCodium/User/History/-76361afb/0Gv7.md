# clops-helm

![Version: 1.3.0](https://img.shields.io/badge/Version-1.3.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.0.0](https://img.shields.io/badge/AppVersion-0.0.0-informational?style=flat-square)

A Helm chart for Kubernetes

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://grafana.github.io/helm-charts | grafana | 7.3.* |
| https://grafana.github.io/helm-charts | loki | 6.7.* |
| https://grafana.github.io/helm-charts | promtail | 6.15.* |
| https://kubernetes-sigs.github.io/metrics-server/ | metrics-server | 3.12.* |
| https://prometheus-community.github.io/helm-charts | kube-prometheus-stack | 59.0.* |
| https://prometheus-community.github.io/helm-charts | prometheus-blackbox-exporter | 8.17.* |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| global.domain | string | `"your.doma.in"` |  |
| grafana.adminPassword | string | `"superSecretPassword"` |  |
| grafana.adminUser | string | `"grafanaAdmin"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".apiVersion | int | `1` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[0].disableDeletion | bool | `false` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[0].editable | bool | `true` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[0].folder | string | `""` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[0].name | string | `"default"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[0].options.path | string | `"/var/lib/grafana/dashboards/default"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[0].orgId | int | `1` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[0].type | string | `"file"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[1].disableDeletion | bool | `false` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[1].editable | bool | `true` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[1].folder | string | `"Prometheus"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[1].name | string | `"prometheus"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[1].options.path | string | `"/var/lib/grafana/dashboards/prometheus"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[1].orgId | int | `1` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[1].type | string | `"file"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[2].disableDeletion | bool | `false` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[2].editable | bool | `true` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[2].folder | string | `"Kubernetes"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[2].name | string | `"kubernetes"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[2].options.path | string | `"/var/lib/grafana/dashboards/kubernetes"` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[2].orgId | int | `1` |  |
| grafana.dashboardProviders."dashboardproviders.yaml".providers[2].type | string | `"file"` |  |
| grafana.dashboards.default | object | `{}` |  |
| grafana.dashboards.kubernetes.k8s-system-api-server.token | string | `""` |  |
| grafana.dashboards.kubernetes.k8s-system-api-server.url | string | `"https://raw.githubusercontent.com/dotdc/grafana-dashboards-kubernetes/master/dashboards/k8s-system-api-server.json"` |  |
| grafana.dashboards.kubernetes.k8s-system-coredns.token | string | `""` |  |
| grafana.dashboards.kubernetes.k8s-system-coredns.url | string | `"https://raw.githubusercontent.com/dotdc/grafana-dashboards-kubernetes/master/dashboards/k8s-system-coredns.json"` |  |
| grafana.dashboards.kubernetes.k8s-views-global.token | string | `""` |  |
| grafana.dashboards.kubernetes.k8s-views-global.url | string | `"https://raw.githubusercontent.com/dotdc/grafana-dashboards-kubernetes/master/dashboards/k8s-views-global.json"` |  |
| grafana.dashboards.kubernetes.k8s-views-namespaces.token | string | `""` |  |
| grafana.dashboards.kubernetes.k8s-views-namespaces.url | string | `"https://raw.githubusercontent.com/dotdc/grafana-dashboards-kubernetes/master/dashboards/k8s-views-namespaces.json"` |  |
| grafana.dashboards.kubernetes.k8s-views-nodes.token | string | `""` |  |
| grafana.dashboards.kubernetes.k8s-views-nodes.url | string | `"https://raw.githubusercontent.com/dotdc/grafana-dashboards-kubernetes/master/dashboards/k8s-views-nodes.json"` |  |
| grafana.dashboards.kubernetes.k8s-views-pods.token | string | `""` |  |
| grafana.dashboards.kubernetes.k8s-views-pods.url | string | `"https://raw.githubusercontent.com/dotdc/grafana-dashboards-kubernetes/master/dashboards/k8s-views-pods.json"` |  |
| grafana.dashboards.prometheus.blackbox-exporter.datasource | string | `"Prometheus"` |  |
| grafana.dashboards.prometheus.blackbox-exporter.gnetId | int | `13659` |  |
| grafana.dashboards.prometheus.blackbox-exporter.revision | int | `1` |  |
| grafana.datasources."datasources.yaml".apiVersion | int | `1` |  |
| grafana.datasources."datasources.yaml".datasources[0].isDefault | bool | `true` |  |
| grafana.datasources."datasources.yaml".datasources[0].name | string | `"Prometheus"` |  |
| grafana.datasources."datasources.yaml".datasources[0].type | string | `"prometheus"` |  |
| grafana.datasources."datasources.yaml".datasources[0].url | string | `"http://prometheus-stack-prometheus.{{ .Release.Namespace }}.svc:9090"` |  |
| grafana.datasources."datasources.yaml".datasources[1].basicAuth | bool | `true` |  |
| grafana.datasources."datasources.yaml".datasources[1].basicAuthUser | string | `"testloki"` |  |
| grafana.datasources."datasources.yaml".datasources[1].isDefault | bool | `false` |  |
| grafana.datasources."datasources.yaml".datasources[1].jsonData.httpHeaderName1 | string | `"X-Scope-OrgID"` |  |
| grafana.datasources."datasources.yaml".datasources[1].name | string | `"Loki"` |  |
| grafana.datasources."datasources.yaml".datasources[1].secureJsonData.basicAuthPassword | string | `"testlokipassword"` |  |
| grafana.datasources."datasources.yaml".datasources[1].secureJsonData.httpHeaderValue1 | string | `"1"` |  |
| grafana.datasources."datasources.yaml".datasources[1].type | string | `"loki"` |  |
| grafana.datasources."datasources.yaml".datasources[1].url | string | `"http://loki-gateway.{{ .Release.Namespace }}.svc:80"` |  |
| grafana.datasources."datasources.yaml".datasources[1].withCredentials | bool | `true` |  |
| grafana.enabled | bool | `true` | Enable the whole component |
| grafana.fullnameOverride | string | `"grafana"` | Override the full names of all resources |
| grafana.ingress.annotations | object | `{"cert-manager.io/cluster-issuer":"letsencrypt-prod","kubernetes.io/tls-acme":"true","nginx.ingress.kubernetes.io/proxy-body-size":"1024m"}` | Annotations for the ingress |
| grafana.ingress.enabled | bool | `true` | Specifies whether an ingress should be created |
| grafana.ingress.hosts | list | `["grafana.your.doma.in"]` | Hosts configuration for the ingress |
| grafana.ingress.ingressClassName | string | `"nginx"` | Ingress Class Name. MAY be required for Kubernetes versions >= 1.18 |
| grafana.ingress.tls | list | `[{"hosts":["grafana.your.doma.in"],"secretName":"grafana-ingress-tls"}]` | TLS configuration for the ingress |
| grafana.persistence.enabled | bool | `false` | Specifies whether the storage should be enabled |
| grafana.persistence.size | string | `"15Gi"` |  |
| grafana.serviceMonitor.enabled | bool | `true` |  |
| kube-prometheus-stack.alertmanager.alertmanagerSpec.containers | list | `[]` | TODO: OAUTH |
| kube-prometheus-stack.alertmanager.alertmanagerSpec.externalUrl | string | `"https://alertmanager.{{ .Values.global.domain }}"` | The external URL the Alertmanager instances will be available under |
| kube-prometheus-stack.alertmanager.alertmanagerSpec.replicas | int | `2` | Number of alertmanager replicas |
| kube-prometheus-stack.alertmanager.extraSecret.data.auth | string | `"alertadmin:$apr1$LN5vrqsG$SUjL9IbnRsUOTjUlrP2LL/"` | generated with htpasswd (PLEASE CHANGE!) |
| kube-prometheus-stack.alertmanager.extraSecret.name | string | `"alertmanager-basic-auth"` | If not set, name will be auto generated |
| kube-prometheus-stack.alertmanager.ingress.annotations | object | `{"cert-manager.io/cluster-issuer":"letsencrypt-prod","kubernetes.io/tls-acme":"true","nginx.ingress.kubernetes.io/auth-realm":"Authentication Required","nginx.ingress.kubernetes.io/auth-secret":"alertmanager-basic-auth","nginx.ingress.kubernetes.io/auth-type":"basic"}` | Annotations for the ingress |
| kube-prometheus-stack.alertmanager.ingress.annotations."nginx.ingress.kubernetes.io/auth-type" | string | `"basic"` | Enable Basic Auth |
| kube-prometheus-stack.alertmanager.ingress.enabled | bool | `true` | Specifies whether an ingress should be created |
| kube-prometheus-stack.alertmanager.ingress.hosts | list | `["alertmanager.{{ .Values.global.domain }}"]` | Hosts configuration for the ingress |
| kube-prometheus-stack.alertmanager.ingress.ingressClassName | string | `"nginx"` | Ingress Class Name. MAY be required for Kubernetes versions >= 1.18 |
| kube-prometheus-stack.alertmanager.ingress.tls | list | `[{"hosts":["alertmanager.{{ .Values.global.domain }}"],"secretName":"alertmanager-general-tls"}]` | TLS configuration for the ingress |
| kube-prometheus-stack.alertmanager.podDisruptionBudget | object | `{"enabled":true}` | Enable PDB for the alertmanager |
| kube-prometheus-stack.defaultRules.labels.role | string | `"alert-rules"` |  |
| kube-prometheus-stack.enabled | bool | `true` | Enable the whole component |
| kube-prometheus-stack.fullnameOverride | string | `"prometheus-stack"` | Override the full names of all resources |
| kube-prometheus-stack.grafana.enabled | bool | `false` |  |
| kube-prometheus-stack.kube-state-metrics.fullnameOverride | string | `"prometheus-kube-state-metrics"` | Override the full names of all resources |
| kube-prometheus-stack.kubeControllerManager.service.port | int | `10257` | define port |
| kube-prometheus-stack.kubeControllerManager.service.selector.component | string | `"kube-controller-manager"` |  |
| kube-prometheus-stack.kubeControllerManager.service.selector.tier | string | `"control-plane"` |  |
| kube-prometheus-stack.kubeControllerManager.service.targetPort | int | `10257` |  |
| kube-prometheus-stack.kubeControllerManager.serviceMonitor.https | bool | `true` |  |
| kube-prometheus-stack.kubeControllerManager.serviceMonitor.insecureSkipVerify | bool | `true` |  |
| kube-prometheus-stack.kubeProxy.enabled | bool | `false` | Specifies whether the kubeProxy scraping should be enabled |
| kube-prometheus-stack.kubeScheduler.service.port | int | `10259` | define port |
| kube-prometheus-stack.kubeScheduler.service.targetPort | int | `10259` |  |
| kube-prometheus-stack.kubeScheduler.serviceMonitor.https | bool | `true` |  |
| kube-prometheus-stack.kubeScheduler.serviceMonitor.insecureSkipVerify | bool | `true` |  |
| kube-prometheus-stack.kubernetesServiceMonitors.enabled | bool | `true` |  |
| kube-prometheus-stack.prometheus-node-exporter.extraArgs[0] | string | `"--collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)"` |  |
| kube-prometheus-stack.prometheus-node-exporter.extraArgs[1] | string | `"--collector.filesystem.fs-types-exclude=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$"` |  |
| kube-prometheus-stack.prometheus-node-exporter.extraArgs[2] | string | `"--collector.textfile"` |  |
| kube-prometheus-stack.prometheus-node-exporter.extraArgs[3] | string | `"--collector.textfile.directory=/var/lib/node_exporter"` |  |
| kube-prometheus-stack.prometheus-node-exporter.extraHostVolumeMounts[0].hostPath | string | `"/var/lib/node_exporter"` |  |
| kube-prometheus-stack.prometheus-node-exporter.extraHostVolumeMounts[0].mountPath | string | `"/var/lib/node_exporter"` |  |
| kube-prometheus-stack.prometheus-node-exporter.extraHostVolumeMounts[0].name | string | `"var-lib-node-exporter"` |  |
| kube-prometheus-stack.prometheus-node-exporter.extraHostVolumeMounts[0].readOnly | bool | `true` |  |
| kube-prometheus-stack.prometheus-node-exporter.fullnameOverride | string | `"prometheus-node-exporter"` | Override the full names of all resources |
| kube-prometheus-stack.prometheus.extraSecret | object | `{"data":{"auth":"promadmin:$apr1$e8kSmViA$It4clhTmgAybWtl47J9Ud.\n"},"name":"prometheus-basic-auth"}` | Set Basic Auth Secret |
| kube-prometheus-stack.prometheus.extraSecret.data.auth | string | `"promadmin:$apr1$e8kSmViA$It4clhTmgAybWtl47J9Ud.\n"` | Basic Authentication You can add multiple lines. auth: |   promadmin:$apr1$e8kSmViA$It4clhTmgAybWtl47J9Ud.   promadmin2:$apr1$e8kSmViA$It4clhTmgAybWtl47J9Ud. generated with htpasswd (PLEASE CHANGE!) Default values: promadmin:prompw |
| kube-prometheus-stack.prometheus.extraSecret.name | string | `"prometheus-basic-auth"` | If not set, name will be auto generated |
| kube-prometheus-stack.prometheus.ingress.annotations | object | `{"cert-manager.io/cluster-issuer":"letsencrypt-prod","kubernetes.io/tls-acme":"true","nginx.ingress.kubernetes.io/auth-realm":"Authentication Required","nginx.ingress.kubernetes.io/auth-secret":"prometheus-basic-auth","nginx.ingress.kubernetes.io/auth-type":"basic"}` | Annotations for the ingress |
| kube-prometheus-stack.prometheus.ingress.annotations."nginx.ingress.kubernetes.io/auth-type" | string | `"basic"` | Enable Basic Auth |
| kube-prometheus-stack.prometheus.ingress.enabled | bool | `true` | Specifies whether an ingress should be created |
| kube-prometheus-stack.prometheus.ingress.hosts | list | `["prometheus.{{ .Values.global.domain }}"]` | Hosts configuration for the ingress |
| kube-prometheus-stack.prometheus.ingress.ingressClassName | string | `"nginx"` | Ingress Class Name. MAY be required for Kubernetes versions >= 1.18 |
| kube-prometheus-stack.prometheus.ingress.tls | list | `[{"hosts":["prometheus.{{ .Values.global.domain }}"],"secretName":"prometheus-general-tls"}]` | TLS configuration for the ingress |
| kube-prometheus-stack.prometheus.podDisruptionBudget | object | `{"enabled":true,"maxUnavailable":"","minAvailable":1}` | Enable PDB for prometheus |
| kube-prometheus-stack.prometheus.prometheusSpec.enableRemoteWriteReceiver | bool | `true` |  |
| kube-prometheus-stack.prometheus.prometheusSpec.externalUrl | string | `"https://prometheus.{{ .Values.global.domain }}"` | The external URL prometheus will be available under |
| kube-prometheus-stack.prometheus.prometheusSpec.podMonitorSelectorNilUsesHelmValues | bool | `false` |  |
| kube-prometheus-stack.prometheus.prometheusSpec.replicas | int | `2` | Number of prometheus replicas |
| kube-prometheus-stack.prometheus.prometheusSpec.resources.requests.memory | string | `"400Mi"` |  |
| kube-prometheus-stack.prometheus.prometheusSpec.retention | string | `"7d"` | How long to retain metrics |
| kube-prometheus-stack.prometheus.prometheusSpec.ruleSelector | object | `{"matchLabels":{"role":"alert-rules"}}` | PrometheusRules to be selected for target discovery |
| kube-prometheus-stack.prometheus.prometheusSpec.ruleSelectorNilUsesHelmValues | bool | `false` |  |
| kube-prometheus-stack.prometheus.prometheusSpec.serviceMonitorSelectorNilUsesHelmValues | bool | `false` |  |
| kube-prometheus-stack.prometheus.prometheusSpec.walCompression | bool | `false` |  |
| kube-prometheus-stack.prometheus.service.additionalPorts | list | `[{"name":"prometheus","port":9191,"protocol":"TCP","targetPort":9090}]` | Additional ports for the service |
| kube-prometheus-stack.prometheus.service.targetPort | int | `9090` |  |
| kube-prometheus-stack.prometheusOperator.admissionWebhooks | object | `{"enabled":false,"failurePolicy":"Ignore","patch":{"enabled":false}}` | Admission webhooks configuration (do not change: https://github.com/helm/charts/issues/21080#issuecomment-596958610) |
| kube-prometheus-stack.prometheusOperator.admissionWebhooks.failurePolicy | string | `"Ignore"` | Define failure policy |
| kube-prometheus-stack.prometheusOperator.tls | object | `{"enabled":false}` | TLS configuration (do not change: https://github.com/helm/charts/issues/21080#issuecomment-596958610) |
| kube-prometheus-stack.prometheusOperator.tlsProxy | object | `{"enabled":false}` | TLS proxy configuration (do not change: https://github.com/helm/charts/issues/21080#issuecomment-596958610) |
| loki.backend.replicas | int | `3` |  |
| loki.bloomCompactor.replicas | int | `0` |  |
| loki.bloomGateway.replicas | int | `0` |  |
| loki.chunksCache | object | `{"enabled":false}` | Specifies whether memcached based chunks-cache should be enabled |
| loki.compactor.replicas | int | `0` |  |
| loki.deploymentMode | string | `"SimpleScalable"` | Deployment mode lets you specify how to deploy Loki. There are 3 options: - SingleBinary: Loki is deployed as a single binary, useful for small installs typically without HA, up to a few tens of GB/day. - SimpleScalable: Loki is deployed as 3 targets: read, write, and backend. Useful for medium installs easier to manage than distributed, up to a about 1TB/day. - Distributed: Loki is deployed as individual microservices. The most complicated but most capable, useful for large installs, typically over 1TB/day. !!! We will only support SimpleScalable for now !!!# |
| loki.distributor.replicas | int | `0` |  |
| loki.enabled | bool | `true` | Enable the whole component |
| loki.fullnameOverride | string | `"loki"` | Override the full names of all resources |
| loki.gateway.basicAuth.enabled | bool | `true` |  |
| loki.gateway.basicAuth.existingSecret | string | `nil` | Existing basic auth secret to use. Must contain '.htpasswd' |
| loki.gateway.basicAuth.htpasswd | string | `"{{ if .Values.loki.tenants }}\n  {{- range $t := .Values.loki.tenants }}\n{{ htpasswd (required \"All tenants must have a 'name' set\" $t.name) (required \"All tenants must have a 'password' set\" $t.password) }}\n  {{- end }}\n{{ else }} {{ htpasswd (required \"'gateway.basicAuth.username' is required\" .Values.gateway.basicAuth.username) (required \"'gateway.basicAuth.password' is required\" .Values.gateway.basicAuth.password) }} {{ end }}"` |  |
| loki.gateway.enabled | bool | `true` | Specifies whether the gateway should be enabled |
| loki.gateway.ingress.annotations | object | `{"cert-manager.io/cluster-issuer":"letsencrypt-prod"}` | Annotations for the gateway ingress |
| loki.gateway.ingress.enabled | bool | `true` | Specifies whether an ingress for the gateway should be created |
| loki.gateway.ingress.hosts | list | `[{"host":"loki.your.doma.in","paths":[{"path":"/","pathType":"Prefix"}]}]` | Hosts configuration for the gateway ingress |
| loki.gateway.ingress.hosts[0].paths[0].pathType | string | `"Prefix"` | pathType (e.g. ImplementationSpecific, Prefix, .. etc.) might also be required by some Ingress Controllers |
| loki.gateway.ingress.ingressClassName | string | `"nginx"` | Ingress Class Name. MAY be required for Kubernetes versions >= 1.18 |
| loki.gateway.ingress.tls | list | `[{"hosts":["loki.your.doma.in"],"secretName":"loki-gateway-tls"}]` | TLS configuration for the gateway ingress |
| loki.gateway.replicas | int | `1` | Number of replicas for the gateway |
| loki.indexGateway.replicas | int | `0` |  |
| loki.ingester.replicas | int | `0` |  |
| loki.loki.schemaConfig | object | `{}` | Check https://grafana.com/docs/loki/latest/configuration/#schema_config for more info on how to configure schemas |
| loki.loki.storage | object | `{"azure":{"accountKey":null,"accountName":null,"connectionString":null,"endpointSuffix":null,"requestTimeout":null,"useFederatedToken":false,"useManagedIdentity":false,"userAssignedId":null},"bucketNames":{"admin":"loki-clops-admin","chunks":"loki-clops-chunks","ruler":"loki-clops-ruler"},"filesystem":{"admin_api_directory":"/var/loki/admin","chunks_directory":"/var/loki/chunks","rules_directory":"/var/loki/rules"},"gcs":{"chunkBufferSize":0,"enableHttp2":true,"requestTimeout":"0s"},"s3":{"accessKeyId":"clops-test-key","backoff_config":{},"endpoint":"https://s3.your.doma.in","http_config":{},"insecure":false,"region":"region-1","s3":null,"s3ForcePathStyle":true,"secretAccessKey":"SUPERSECRETKEY"},"swift":{"auth_url":null,"auth_version":null,"connect_timeout":null,"container_name":null,"domain_id":null,"domain_name":null,"internal":null,"max_retries":null,"password":null,"project_domain_id":null,"project_domain_name":null,"project_id":null,"project_name":null,"region_name":null,"request_timeout":null,"user_domain_id":null,"user_domain_name":null,"user_id":null,"username":null},"type":"s3"}` | Storage config. Providing this will automatically populate all necessary storage configs in the templated config. |
| loki.loki.storage.s3.backoff_config | object | `{}` | Check https://grafana.com/docs/loki/latest/configure/#s3_storage_config for more info on how to provide a backoff_config |
| loki.loki.tenants | list | `[{"name":"testloki","password":"testlokipassword"}]` | Tenants / User |
| loki.loki.testSchemaConfig.configs[0].from | string | `"2024-06-01"` |  |
| loki.loki.testSchemaConfig.configs[0].index.period | string | `"24h"` |  |
| loki.loki.testSchemaConfig.configs[0].index.prefix | string | `"index_"` |  |
| loki.loki.testSchemaConfig.configs[0].object_store | string | `"s3"` |  |
| loki.loki.testSchemaConfig.configs[0].schema | string | `"v13"` |  |
| loki.loki.testSchemaConfig.configs[0].store | string | `"tsdb"` |  |
| loki.loki.useTestSchema | bool | `false` | a real Loki install requires a proper schemaConfig defined above this, however for testing or playing around you can enable useTestSchema |
| loki.lokiCanary.enabled | bool | `false` |  |
| loki.memcachedExporter | object | `{"enabled":false}` | Whether memcached metrics should be exported |
| loki.monitoring.selfMonitoring.enabled | bool | `false` |  |
| loki.monitoring.selfMonitoring.grafanaAgent.installOperator | bool | `false` |  |
| loki.querier.replicas | int | `0` |  |
| loki.queryFrontend.replicas | int | `0` |  |
| loki.queryScheduler.replicas | int | `0` |  |
| loki.read.replicas | int | `3` |  |
| loki.resultsCache | object | `{"enabled":false}` | Specifies whether memcached based results-cache should be enabled |
| loki.singleBinary.replicas | int | `0` |  |
| loki.test.enabled | bool | `false` |  |
| loki.write.replicas | int | `3` |  |
| metrics-server.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchExpressions[0].key | string | `"app.kubernetes.io/name"` |  |
| metrics-server.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchExpressions[0].operator | string | `"In"` |  |
| metrics-server.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchExpressions[0].values[0] | string | `"metrics-server"` |  |
| metrics-server.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].topologyKey | string | `"kubernetes.io/hostname"` |  |
| metrics-server.defaultArgs[0] | string | `"--cert-dir=/tmp"` |  |
| metrics-server.defaultArgs[1] | string | `"--kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname"` |  |
| metrics-server.defaultArgs[2] | string | `"--kubelet-use-node-status-port"` |  |
| metrics-server.defaultArgs[3] | string | `"--metric-resolution=15s"` |  |
| metrics-server.defaultArgs[4] | string | `"--kubelet-insecure-tls"` |  |
| metrics-server.enabled | bool | `true` | Enable the whole component |
| metrics-server.fullnameOverride | string | `"metrics-server"` | Override the full names of all resources |
| metrics-server.replicas | int | `2` | Number of metrics-server replicas |
| metrics-server.serviceMonitor.enabled | bool | `true` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx.http.follow_redirects | bool | `true` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx.http.preferred_ip_protocol | string | `"ip4"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx.http.tls_config.insecure_skip_verify | bool | `true` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx.http.valid_http_versions[0] | string | `"HTTP/1.1"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx.http.valid_http_versions[1] | string | `"HTTP/2.0"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx.prober | string | `"http"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx.timeout | string | `"5s"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx_content_ok.http.fail_if_body_not_matches_regexp[0] | string | `"OK"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx_content_ok.http.method | string | `"GET"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx_content_ok.http.no_follow_redirects | bool | `false` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx_content_ok.http.preferred_ip_protocol | string | `"ip4"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx_content_ok.http.tls_config.insecure_skip_verify | bool | `true` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx_content_ok.http.valid_http_versions[0] | string | `"HTTP/1.1"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx_content_ok.http.valid_http_versions[1] | string | `"HTTP/2.0"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx_content_ok.prober | string | `"http"` |  |
| prometheus-blackbox-exporter.config.modules.http_2xx_content_ok.timeout | string | `"8s"` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.http.fail_if_header_not_matches[0].header | string | `"Location"` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.http.fail_if_header_not_matches[0].regexp | string | `"^.+$"` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.http.method | string | `"GET"` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.http.no_follow_redirects | bool | `true` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.http.preferred_ip_protocol | string | `"ip4"` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.http.tls_config.insecure_skip_verify | bool | `false` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.http.valid_http_versions[0] | string | `"HTTP/1.1"` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.http.valid_http_versions[1] | string | `"HTTP/2.0"` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.http.valid_status_codes[0] | int | `302` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.prober | string | `"http"` |  |
| prometheus-blackbox-exporter.config.modules.http_redirect_location_set.timeout | string | `"5s"` |  |
| prometheus-blackbox-exporter.configExistingSecretName | string | `""` |  |
| prometheus-blackbox-exporter.dnsConfig.nameservers[0] | string | `"1.1.1.1"` |  |
| prometheus-blackbox-exporter.dnsConfig.nameservers[1] | string | `"1.0.0.1"` |  |
| prometheus-blackbox-exporter.dnsConfig.nameservers[2] | string | `"9.9.9.9"` |  |
| prometheus-blackbox-exporter.dnsConfig.options | list | `[]` |  |
| prometheus-blackbox-exporter.dnsConfig.searches | list | `[]` |  |
| prometheus-blackbox-exporter.dnsPolicy | string | `"None"` |  |
| prometheus-blackbox-exporter.enabled | bool | `true` | Enable the whole component |
| prometheus-blackbox-exporter.fullnameOverride | string | `"prometheus-blackbox-exporter"` | Override the full names of all resources |
| prometheus-blackbox-exporter.prometheusRule.additionalLabels.prometheus | string | `"k8s"` |  |
| prometheus-blackbox-exporter.prometheusRule.additionalLabels.role | string | `"alert-rules"` |  |
| prometheus-blackbox-exporter.prometheusRule.enabled | bool | `true` |  |
| prometheus-blackbox-exporter.prometheusRule.namespace | string | `""` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[0].alert | string | `"EndpointDown"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[0].annotations.summary | string | `"Endpoint {{`{{ $labels.instance }}`}} down (45s)"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[0].expr | string | `"probe_success == 0"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[0].for | string | `"45s"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[0].labels.severity | string | `"warning"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[1].alert | string | `"EndpointDown"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[1].annotations.summary | string | `"Endpoint {{`{{ $labels.instance }}`}} down (3 minutes)"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[1].expr | string | `"probe_success == 0"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[1].for | string | `"180s"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[1].labels.severity | string | `"critical"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[2].alert | string | `"CertificateExpiry"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[2].annotations.summary | string | `"Certificate {{`{{ $labels.instance }}`}} expires in less than 14 days."` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[2].expr | string | `"(probe_ssl_earliest_cert_expiry - (604800 * 2)) <= time()"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[2].labels.severity | string | `"warning"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[3].alert | string | `"CertificateExpiry"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[3].annotations.summary | string | `"Certificate {{`{{ $labels.instance }}`}} expires in less than 7 days."` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[3].expr | string | `"(probe_ssl_earliest_cert_expiry - 604800) <= time()"` |  |
| prometheus-blackbox-exporter.prometheusRule.rules[3].labels.severity | string | `"critical"` |  |
| prometheus-blackbox-exporter.secretConfig | bool | `false` |  |
| prometheus-blackbox-exporter.serviceMonitor.bearerTokenFile | string | `nil` |  |
| prometheus-blackbox-exporter.serviceMonitor.defaults.additionalMetricsRelabels | object | `{}` |  |
| prometheus-blackbox-exporter.serviceMonitor.defaults.additionalRelabeling | list | `[]` |  |
| prometheus-blackbox-exporter.serviceMonitor.defaults.interval | string | `"30s"` |  |
| prometheus-blackbox-exporter.serviceMonitor.defaults.labels | object | `{}` |  |
| prometheus-blackbox-exporter.serviceMonitor.defaults.module | string | `"http_2xx"` |  |
| prometheus-blackbox-exporter.serviceMonitor.defaults.scrapeTimeout | string | `"30s"` |  |
| prometheus-blackbox-exporter.serviceMonitor.enabled | bool | `true` |  |
| prometheus-blackbox-exporter.serviceMonitor.scheme | string | `"http"` |  |
| prometheus-blackbox-exporter.serviceMonitor.selfMonitor.additionalMetricsRelabels | object | `{}` |  |
| prometheus-blackbox-exporter.serviceMonitor.selfMonitor.additionalRelabeling | list | `[]` |  |
| prometheus-blackbox-exporter.serviceMonitor.selfMonitor.enabled | bool | `true` |  |
| prometheus-blackbox-exporter.serviceMonitor.selfMonitor.interval | string | `"30s"` |  |
| prometheus-blackbox-exporter.serviceMonitor.selfMonitor.labels | object | `{}` |  |
| prometheus-blackbox-exporter.serviceMonitor.selfMonitor.scrapeTimeout | string | `"30s"` |  |
| prometheus-blackbox-exporter.serviceMonitor.targets[0].additionalMetricsRelabels.customer | string | `"CLOPS"` |  |
| prometheus-blackbox-exporter.serviceMonitor.targets[0].module | string | `"http_2xx"` |  |
| prometheus-blackbox-exporter.serviceMonitor.targets[0].name | string | `"loki.your.doma.in"` |  |
| prometheus-blackbox-exporter.serviceMonitor.targets[0].url | string | `"https://loki.your.doma.in"` |  |
| prometheus-blackbox-exporter.serviceMonitor.tlsConfig | object | `{}` |  |
| promtail.config.clients | list | `[{"url":"http://loki-gateway.{{ .Release.Namespace }}.svc/loki/api/v1/push"}]` | The config of clients of the Promtail server |
| promtail.config.enabled | bool | `true` |  |
| promtail.config.file | string | `"server:\n  log_level: {{ .Values.config.logLevel }}\n  http_listen_port: {{ .Values.config.serverPort }}\n  {{- with .Values.httpPathPrefix }}\n  http_path_prefix: {{ . }}\n  {{- end }}\n  {{- tpl .Values.config.snippets.extraServerConfigs . | nindent 2 }}\n\nclients:\n  ## CARE FOR INDENTATION\n  {{- tpl (toYaml .Values.config.clients) . | nindent 2 }}\n    tenant_id: 1\n    basic_auth:\n        username: 'testloki'\n        password: 'testlokipassword'\n\npositions:\n  filename: /run/promtail/positions.yaml\n\nscrape_configs:\n  {{- tpl .Values.config.snippets.scrapeConfigs . | nindent 2 }}\n  {{- tpl .Values.config.snippets.extraScrapeConfigs . | nindent 2 }}\n\nlimits_config:\n  {{- tpl .Values.config.snippets.extraLimitsConfig . | nindent 2 }}\n\ntracing:\n  enabled: {{ .Values.config.enableTracing }}\n"` |  |
| promtail.config.logLevel | string | `"warn"` | The log level of the Promtail server |
| promtail.enabled | bool | `true` | Enable the whole component |
| promtail.extraArgs[0] | string | `"-client.external-labels=environment=clops,hostname=$(HOSTNAME)"` |  |
| promtail.fullnameOverride | string | `"promtail"` | Override the full names of all resources |
| promtail.resources | object | `{"limits":{"cpu":"200m","memory":"375Mi"},"requests":{"cpu":"100m","memory":"135Mi"}}` | Resource requests and limits |
| promtail.serviceMonitor.enabled | bool | `true` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
