---
apiVersion: acid.zalan.do/v1
kind: postgresql
metadata:
  labels:
    app.kubernetes.io/name: harbor
    app.kubernetes.io/component: database
  name: harbor-postgresql
spec:
  teamId: "harbor"
  volume:
    size: 50Gi
  numberOfInstances: 2
  users:
    postgres:
      - superuser
      - createdb
    harbor: []
  databases:
    harbor: harbor
  postgresql:
    version: "15"
    parameters:
      max_connections: "250"
  enableLogicalBackup: true
  logicalBackupSchedule: "30 */4 * * *"
